module.exports = {
	root: true,
	env: {
		node: true,
		browser: true,
	},
	settings: {
		"import/internal-regex": "^@|@xotoboil|@e2e|@unit/",
	},
	parser: "@typescript-eslint/parser",
	plugins: ["prettier", "@typescript-eslint", "import"],
	extends: [
		"plugin:prettier/recommended",
		"eslint:recommended",
		"plugin:@typescript-eslint/recommended",
		"plugin:import/errors",
		"plugin:import/warnings",
	],
	parserOptions: {
		ecmaVersion: 11,
		sourceType: "module",
		ecmaFeatures: { jsx: true },
	},
	rules: {
		"prettier/prettier": [
			"warn",
			{
				tabWidth: 2,
				semi: true,
				singleQuote: false,
				quoteProps: "always",
				jsxSingleQuote: false,
				trailingComma: "none",
				bracketSpacing: true,
				bracketSameLine: true,
				arrowParens: "always",
				htmlWhitespaceSensitivity: "ignore",
				vueIndentScriptAndStyle: true,
				endOfLine: "lf",
			},
			{ fileInfoOptions: { withNodeModules: true } },
		],

		semi: ["warn", "never"],
		indent: ["warn", "tab", { SwitchCase: 1 }],
		"no-mixed-spaces-and-tabs": ["warn"],
		quotes: ["warn", "double"],
		"no-debugger": process.env.NODE_ENV === "production" ? "error" : "off",
		"quote-props": ["error", "always"],
		"key-spacing": ["warn"],
		"keyword-spacing": ["warn"],
		"arrow-spacing": ["warn"],
		"func-call-spacing": ["warn"],
		"space-in-parens": ["warn"],
		"space-before-blocks": ["warn", "always"],
		"block-spacing": ["warn"],
		"object-curly-spacing": [
			"warn",
			"always",
			{ arraysInObjects: false, objectsInObjects: false },
		],
		"object-curly-newline": [
			"warn",
			{
				ObjectExpression: { multiline: true, consistent: true },
				ObjectPattern: { multiline: true, consistent: true },
				ImportDeclaration: { multiline: true },
				ExportDeclaration: { multiline: true, minProperties: 1 },
			},
		],
		"no-multi-spaces": ["warn"],
		"no-prototype-builtins": ["warn"],
		"@typescript-eslint/ban-types": ["warn"],
		"no-trailing-spaces": ["warn"],
		"object-property-newline": ["warn", { allowAllPropertiesOnSameLine: true }],
		"array-bracket-spacing": ["warn", "never"],
		"space-infix-ops": ["warn"],
		"brace-style": ["warn", "1tbs", { allowSingleLine: true }],
		"no-multiple-empty-lines": ["warn", { max: 1, maxEOF: 0 }],
		"padded-blocks": ["warn", "never"],
		"comma-spacing": ["warn"],
		"comma-dangle": ["warn", "always-multiline"],
		"import/order": [
			"warn",
			{
				"newlines-between": "always",
				alphabetize: {
					order: "asc",
					caseInsensitive: true,
				},
				groups: [
					"builtin",
					"external",
					"internal",
					"parent",
					"sibling",
					"index",
				],
				pathGroups: [{ pattern: "@/**", group: "internal", position: "after" }],
			},
		],
		"import/no-named-as-default": "off",
		"import/no-named-as-default-member": "off",
		"import/no-unresolved": "off",
		"import/default": "off",
		"import/namespace": "off",
	},
	overrides: [
		{
			files: [
				"**/__tests__/*.{j,t}s?(x)",
				"**/tests/unit/**/*.spec.{j,t}s?(x)",
			],
			env: { jest: true },
		},
	],
};
